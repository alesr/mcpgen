// Code generated by mcpgen. Edit if needed.
package prompts

import (
	"context"
	"testing"

	"github.com/modelcontextprotocol/go-sdk/mcp"
)

// TestPrompts validates stub prompt handlers.
func TestPrompts(t *testing.T) {
	tests := []struct {
		name      string
		handler   func(context.Context, *mcp.GetPromptRequest) (*mcp.GetPromptResult, error)
		arguments map[string]string
	}{
{{- range .Prompts }}
		{ name: {{ quote .ID }}, handler: HandlePrompt{{ .GoName }}, arguments: map[string]string{
{{- range .RequiredArgs }}
			{{ quote . }}: "test",
{{- end }}
		}},
{{- end }}
	}

	for _, tt := range tests {
		tt := tt
		t.Run(tt.name, func(t *testing.T) {
			t.Parallel()
			res, err := tt.handler(context.Background(), &mcp.GetPromptRequest{Params: &mcp.GetPromptParams{Arguments: tt.arguments}})
			if err != nil {
				t.Fatalf("unexpected error: %v", err)
			}
			if res == nil || len(res.Messages) == 0 {
				t.Fatalf("expected prompt messages")
			}
			msg := res.Messages[0]
			text, _ := msg.Content.(*mcp.TextContent)
			if text == nil || text.Text == "" {
				t.Fatalf("expected prompt text")
			}
		})
	}
}
